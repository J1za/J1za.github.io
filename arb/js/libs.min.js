!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).LazyLoad=n()}(this,function(){"use strict";function n(){return(n=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t}).apply(this,arguments)}function r(t){return n({},tt,t)}function i(t,n){var e,a="LazyLoad::Initialized",i=new t(n);try{e=new CustomEvent(a,{detail:{instance:i}})}catch(t){(e=document.createEvent("CustomEvent")).initCustomEvent(a,!1,!1,{instance:i})}window.dispatchEvent(e)}function g(t,n){return t.getAttribute(ot+n)}function o(t,n,e){var a=ot+n;null!==e?t.setAttribute(a,e):t.removeAttribute(a)}function l(t){return g(t,lt)}function c(t,n){return o(t,lt,n)}function s(t){return c(t,null),0}function u(t){return null===l(t)}function d(t){return l(t)===rt}function f(t,n,e,a){t&&(void 0===a?void 0===e?t(n):t(n,e):t(n,e,a))}function _(t,n){Y?t.classList.add(n):t.className+=(t.className?" ":"")+n}function v(t,n){Y?t.classList.remove(n):t.className=t.className.replace(new RegExp("(^|\\s+)"+n+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")}function b(t){return t.llTempImage}function p(t,n){var e;!n||(e=n._observer)&&e.unobserve(t)}function h(t,n){t&&(t.loadingCount+=n)}function m(t,n){t&&(t.toLoadCount=n)}function a(t){for(var n,e=[],a=0;n=t.children[a];a+=1)"SOURCE"===n.tagName&&e.push(n);return e}function e(t,n,e){e&&t.setAttribute(n,e)}function E(t,n){t.removeAttribute(n)}function I(t){return!!t.llOriginalAttrs}function A(t){var n;I(t)||((n={}).src=t.getAttribute("src"),n.srcset=t.getAttribute("srcset"),n.sizes=t.getAttribute("sizes"),t.llOriginalAttrs=n)}function y(t){var n;I(t)&&(n=t.llOriginalAttrs,e(t,"src",n.src),e(t,"srcset",n.srcset),e(t,"sizes",n.sizes))}function L(t,n){e(t,"sizes",g(t,n.data_sizes)),e(t,"srcset",g(t,n.data_srcset)),e(t,"src",g(t,n.data_src))}function w(t){E(t,"src"),E(t,"srcset"),E(t,"sizes")}function k(t,n){var e=t.parentNode;e&&"PICTURE"===e.tagName&&a(e).forEach(n)}function O(t,n){a(t).forEach(n)}function z(t,n){var e=st[t.tagName];e&&e(t,n)}function C(t,n){var e,a,i=ft[t.tagName];i?i(t,n):(o(e=t,(a=n).data_bg,null),o(e,a.data_bg_hidpi,null))}function N(t,n){!n||0<n.loadingCount||0<n.toLoadCount||f(t.callback_finish,n)}function x(t,n,e){t.addEventListener(n,e),t.llEvLisnrs[n]=e}function M(t){return!!t.llEvLisnrs}function R(t){if(M(t)){var n,e,a=t.llEvLisnrs;for(var i in a){var r=a[i];n=i,e=r,t.removeEventListener(n,e)}delete t.llEvLisnrs}}function G(t,n,e){var a;delete t.llTempImage,h(e,-1),(a=e)&&--a.toLoadCount,v(t,n.class_loading),n.unobserve_completed&&p(t,e)}function T(i,r,o){var l=b(i)||i;M(l)||function(t,n,e){M(t)||(t.llEvLisnrs={});var a="VIDEO"===t.tagName?"loadeddata":"load";x(t,a,n),x(t,"error",e)}(l,function(){var t,n,e,a;n=r,e=o,a=d(t=i),G(t,n,e),_(t,n.class_loaded),c(t,et),C(t,n),f(n.callback_loaded,t,e),a||N(n,e),R(l)},function(){var t,n,e,a;n=r,e=o,a=d(t=i),G(t,n,e),_(t,n.class_error),c(t,it),f(n.callback_error,t,e),a||N(n,e),R(l)})}function D(t,n,e){var a,i,r,o,l,c,s,u,d,f,_,v;t.llTempImage=document.createElement("IMG"),T(t,n,e),r=e,o=g(a=t,(i=n).data_bg),l=g(a,i.data_bg_hidpi),(c=Z&&l?l:o)&&(a.style.backgroundImage='url("'.concat(c,'")'),b(a).setAttribute("src",c),dt(a,i,r)),d=e,f=g(s=t,(u=n).data_bg_multi),_=g(s,u.data_bg_multi_hidpi),(v=Z&&_?_:f)&&(s.style.backgroundImage=v,ut(s,u,d))}function F(t,n,e){var a,i,r,o;o=t,-1<vt.indexOf(o.tagName)?(T(a=t,i=n,r=e),z(a,i),dt(a,i,r)):D(t,n,e)}function V(t,n,e,a){var i,r;e.cancel_on_exit&&(l(t)!==nt||"IMG"===t.tagName&&(R(t),k(i=t,function(t){w(t)}),w(i),k(r=t,function(t){y(t)}),y(r),v(t,e.class_loading),h(a,-1),s(t),f(e.callback_cancel,t,n,a)))}function j(t,n,e,a){var i,r,o;c(t,"entered"),i=t,r=a,e.unobserve_entered&&p(i,r),f(e.callback_enter,t,n,a),o=t,0<=ct.indexOf(l(o))||F(t,e,a)}function P(t){return t.use_native&&"loading"in HTMLImageElement.prototype}function S(t,a,i){t.forEach(function(t){var n,e;-1!==gt.indexOf(t.tagName)&&(t.setAttribute("loading","lazy"),T(n=t,e=a,i),z(n,e),C(n,e),c(n,rt))}),m(i,0)}function U(t,o,l){t.forEach(function(t){return(r=t).isIntersecting||0<r.intersectionRatio?j(t.target,t,o,l):(n=t.target,e=t,a=o,i=l,void(u(n)||(V(n,e,a,i),f(a.callback_exit,n,e,i))));var n,e,a,i,r})}function $(n,e){var t;X&&!P(n)&&(e._observer=new IntersectionObserver(function(t){U(t,n,e)},{root:(t=n).container===document?null:t.container,rootMargin:t.thresholds||t.threshold+"px"}))}function q(t){return Array.prototype.slice.call(t)}function H(t){return t.container.querySelectorAll(t.elements_selector)}function B(t){return l(t)===it}function J(t,n){return e=t||H(n),q(e).filter(u);var e}function K(n,t){var e;(e=H(n),q(e).filter(B)).forEach(function(t){v(t,n.class_error),s(t)}),t.update()}function t(t,n){var e,a,i=r(t);this._settings=i,this.loadingCount=0,$(i,this),e=i,a=this,Q&&window.addEventListener("online",function(){K(e,a)}),this.update(n)}var Q="undefined"!=typeof window,W=Q&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),X=Q&&"IntersectionObserver"in window,Y=Q&&"classList"in document.createElement("p"),Z=Q&&1<window.devicePixelRatio,tt={elements_selector:".lazy",container:W||Q?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1},nt="loading",et="loaded",at="applied",it="error",rt="native",ot="data-",lt="ll-status",ct=[nt,et,at,it],st={IMG:function(t,n){k(t,function(t){A(t),L(t,n)}),A(t),L(t,n)},IFRAME:function(t,n){e(t,"src",g(t,n.data_src))},VIDEO:function(t,n){O(t,function(t){e(t,"src",g(t,n.data_src))}),e(t,"poster",g(t,n.data_poster)),e(t,"src",g(t,n.data_src)),t.load()}},ut=function(t,n,e){_(t,n.class_applied),c(t,at),_t(t,n),n.unobserve_completed&&p(t,n),f(n.callback_applied,t,e)},dt=function(t,n,e){h(e,1),_(t,n.class_loading),c(t,nt),f(n.callback_loading,t,e)},ft={IMG:function(t,n){o(t,n.data_src,null),o(t,n.data_srcset,null),o(t,n.data_sizes,null),k(t,function(t){o(t,n.data_srcset,null),o(t,n.data_sizes,null)})},IFRAME:function(t,n){o(t,n.data_src,null)},VIDEO:function(t,n){o(t,n.data_src,null),o(t,n.data_poster,null),O(t,function(t){o(t,n.data_src,null)})}},_t=function(t,n){o(t,n.data_bg_multi,null),o(t,n.data_bg_multi_hidpi,null)},vt=["IMG","IFRAME","VIDEO"],gt=["IMG","IFRAME"];return t.prototype={update:function(t){var n,e,a,i=this._settings,r=J(t,i);m(this,r.length),!W&&X?P(i)?S(r,i,this):(n=this._observer,e=r,n.disconnect(),a=n,e.forEach(function(t){a.observe(t)})):this.loadAll(r)},destroy:function(){this._observer&&this._observer.disconnect(),H(this._settings).forEach(function(t){delete t.llOriginalAttrs}),delete this._observer,delete this._settings,delete this.loadingCount,delete this.toLoadCount},loadAll:function(t){var n=this,e=this._settings;J(t,e).forEach(function(t){p(t,n),F(t,e,n)})}},t.load=function(t,n){var e=r(n);F(t,e)},t.resetStatus=function(t){s(t)},Q&&function(t,n){if(n)if(n.length)for(var e,a=0;e=n[a];a+=1)i(t,e);else i(t,n)}(t,window.lazyLoadOptions),t});