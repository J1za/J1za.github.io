$(function(){$(".porfolio__inner .filter-list .filters ul li")[0].click(),$(".menu-toggle").on("click",function(){$("body").toggleClass("open")}),$(".header__inner nav .menu li").click(function(e){$(".active").not($(this)).removeClass("active"),$(this).toggleClass("active")});var n=$(".filters").on("click","li",function(){var e=$(this).attr("data-filter");$(".grid").isotope({filter:e}),$(".filters li").removeClass("active"),$(this).addClass("active")});$("#filter-output").click(function(){$(".grid").isotope({filter:"*"}),$("#filter-output").css({visibility:"hidden",opacity:"0"})});var e,n=$(".grid").isotope({itemSelector:".grid-image"}),t=window.matchMedia("(min-width: 530px)"),i=e=t.matches?4:8,o=n.data("isotope");function l(e){n.find(".hidden").removeClass("hidden");var t=o.filteredItems.slice(e,o.filteredItems.length).map(function(e){return e.element});$(t).addClass("hidden"),n.isotope("layout"),0==t.length?jQuery("#load-more").hide():jQuery("#load-more").show()}function c(e){1050<document.documentElement.clientWidth?($(".catalog__inner a").slice(0,12).show(),0==$(".catalog__inner a:hidden").length&&$(".btn-more").addClass("noContent"),$(".btn-more").on("click",function(e){e.preventDefault(),$(".catalog__inner a:hidden").slice(0,12).slideDown(),0==$(".catalog__inner a:hidden").length&&$(".btn-more").addClass("noContent")})):530<document.documentElement.clientWidth?($(".catalog__inner a").slice(0,4).show(),0==$(".catalog__inner a:hidden").length&&$(".btn-more").addClass("noContent"),$(".btn-more").on("click",function(e){e.preventDefault(),$(".catalog__inner a:hidden").slice(0,4).slideDown(),0==$(".catalog__inner a:hidden").length&&$(".btn-more").addClass("noContent")})):($(".catalog__inner a").slice(0,3).show(),0==$(".catalog__inner a:hidden").length&&$(".btn-more").addClass("noContent"),$(".btn-more").on("click",function(e){e.preventDefault(),$(".catalog__inner a:hidden").slice(0,3).slideDown(),0==$(".catalog__inner a:hidden").length&&$(".btn-more").addClass("noContent")}))}l(e),n.after('<button id="load-more"> Завантажити більше</button>'),$("#load-more").click(function(){$("#filters").data("clicked")&&(i=e,$("#filters").data("clicked",!1)),l(i+=e)}),$("#filters").click(function(){$(this).data("clicked",!0),l(e)}),(t=window.matchMedia("screen and (min-width: 600px)")).addListener(c),c(),$('a[href*="#contacts"]').on("click",function(e){$("html,body").animate({scrollTop:+$($(this).attr("href")).offset().top},1300),e.preventDefault()}),$(".gallery").modaal({type:"image"}),$(".modal-contact").modaal({content_source:"#modal-contact",hide_close:!0,background_scroll:!0,background:"#fff",overlay_opacity:.2})});var marker=document.querySelector("#marker"),ul=document.querySelector(".menu"),timeout=null,active=document.querySelector("li"),item=document.querySelectorAll("nav .menu li"),mediaQuery=window.matchMedia("screen and (min-width: 600px)");function foo(e){var t;1050<document.documentElement.clientWidth&&(t=function(){for(var e=0;e<item.length;e++)item[e].classList.contains("current-menu-item")&&(marker.style.left=document.querySelectorAll("nav .menu li")[e].offsetLeft+"px",marker.style.width=getComputedStyle(document.querySelectorAll("nav .menu li")[e]).width)},marker.style.width=getComputedStyle(active).width,marker.style.left=active.offsetLeft+"px",t(),document.querySelectorAll(".menu")[0].addEventListener("mouseleave",function(){marker.style.width="0px",t()}),ul.addEventListener("mousemove",function(e){var t;e.target.closest("li")&&!e.target.closest("ul:not(.menu)")&&(t=e.target,clearTimeout(timeout),parseInt(t.offsetLeft)||(t=t.parentNode),marker.style.left=t.offsetLeft+"px",marker.style.width=t.offsetWidth+"px",console.log(marker.style.left))}))}mediaQuery.addListener(foo),foo(mediaQuery);for(var btn=document.querySelectorAll(".button"),output=document.querySelector(".wpcf7-response-output"),wpcf7Elm=document.querySelectorAll(".wpcf7"),_loop=function(t){wpcf7Elm[t].addEventListener("wpcf7invalid",function(e){setTimeout(function(){for(var e=0;t<btn.length;e++)btn[e].innerHTML="Не відправлено",btn[e].style.background="transparent"},100)})},i=0;i<wpcf7Elm.length;i++)_loop(i);for(var _loop2=function(t){wpcf7Elm[t].addEventListener("wpcf7mailsent",function(e){setTimeout(function(){for(var e=0;t<btn.length;e++)btn[e].innerHTML="Повідомлення надіслано",btn[e].style.background="#27AE60"},100)})},_i=0;_i<wpcf7Elm.length;_i++)_loop2(_i);var uploadField=document.getElementById("input__file").onchange=function(){document.querySelector(".change-text").innerHTML=this.value.replace(/C:\\fakepath\\/i,""),507200<this.files[0].size&&(alert("Файл більше 5 мб!"),this.value="",document.querySelector(".change-text").innerHTML="Прикріпити файл (до 5Мб)")};0<window.location.toString().indexOf("porfolio.html")&&function(){for(var t=document.querySelectorAll(".filters ul li"),n=document.querySelector("#filter-output"),e=0;e<t.length;e++)!function(e){t[e].onclick=function(){n.style.cssText=" visibility:visible;opacity: 1;",n.innerHTML=t[e].textContent}}(e);var i=document.querySelector(".filter-open"),o=document.querySelector(".porfolio__inner .filter-list .filters"),l=document.querySelector(".porfolio-overlay");document.querySelector(".porfolio-overlay");i.onclick=function(){o.style.cssText="top: 50px;opacity: 1;visibility: visible;",l.style.cssText="visibility: visible;opacity: .2;"},l.onclick=function(){l.style.cssText="visibility: hidden;opacity: 0;",o.style.cssText=" opacity: 0;visibility: hidden;top: 40px;"}}();